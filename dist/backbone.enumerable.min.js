!function(t,e){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(t,n){return e(t,n)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=e(n,i)}else e(t.Backbone,t._)}(this,function(t,e){"use strict";var n=t.Enumerable;return t.Enumerable=function(t,e){var n=function(t){this._items=[],this._index=0,this._type=null,this.length=0,e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){if(this._items.length||this._setType(t),!(t instanceof this._type))throw new Error("Wrong type supplied.");return void 0===e?this._items.push(t):this._items.splice(e,0,t),this._updateLength(),this},remove:function(t){return void 0===t?(this._items.pop(),this._updateLength(),this):(t>-1&&this._items.splice(t,1),this._updateLength(),this)},get:function(t){return void 0===t?void 0:this._items[t]||void 0},next:function(){return this._traverse(1),this},prev:function(){return this._traverse(-1),this},getNext:function(){return this.next(),this.get(this._index)},getPrev:function(){return this.prev(),this.get(this._index)},getIndex:function(){return this._index},setIndex:function(t){return 0>t||t>this._items.length-1?!1:(this._index=t,this._index)},_setType:function(t){return this._type=t.constructor,this},_traverse:function(t){if(0===this.length)return!1;var e=this._index+t;return-1===e&&(e=this.length-1),e===this.length&&(e=0),this.setIndex(e)},_updateLength:function(){this.length=this._items.length}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","includes","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._items),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.Enumerable.VERSION="0.0.0",t.Enumerable.noConflict=function(){return t.Enumerable=n,this},t.Enumerable});