!function(t,e){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(t,n){return e(t,n)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=e(n,i)}else e(t.Backbone,t._)}(this,function(t,e){"use strict";var n=t.Enumerable;return t.Enumerable=function(t,e){var n=function(t){this._items=[],this._currentItem=null,this._currentIndex=null,this._updateLength(),e.each(t,this.add,this),this._setCurrentItem()};return e.extend(n.prototype,{add:function(t,e){return void 0===e?this._items.push(t):this._items.splice(e,0,t),this._updateLength(),this},remove:function(t){return void 0===t?(this._items.pop(),this._updateLength(),this):(t>-1&&this._items.splice(t,1),this._updateLength(),this)},first:function(){return this._items.length?this._items[0]:null},last:function(){return this._items.length?this._items[this._items.length-1]:null},get:function(t){return void 0===t?null:this._items[t]?this._items[t]:null},next:function(){this._traverse(1)},prev:function(){this._traverse(-1)},_traverse:function(t){return this._currentItem?void 0:!1},getCurrentItem:function(){return this._currentItem},getCurrentIndex:function(){return this._currentIndex},setCurrentItem:function(t){return void 0===t?!1:void this._setCurrentItem(t)},_getCurrentItemIndex:function(){return this._currentItem?e.indexOf(this._items,this._currentItem):!1},_setCurrentItem:function(t){return void 0===t?this._currentItem=this.first():this._getCurrentItemIndex()>-1&&(this._currentItem=t),this._setCurrentIndex(),this},_setCurrentIndex:function(){this._currentIndex=this._getCurrentItemIndex()},_updateLength:function(){this.length=this._items.length}}),n}(t,e),t.Enumerable.VERSION="0.0.0",t.Enumerable.noConflict=function(){return t.Enumerable=n,this},t.Enumerable});